# CSS最適化計画書

## 🎯 目標
ブラウザ表示に一切の変更を加えずに、CSSをクリーンで保守しやすい状態にする

## 📊 現状分析結果

### ファイル構成
1. **normalize.css** (7.6KB) - ブラウザリセット
2. **webflow.css** (38KB) - Webflowフレームワーク
3. **alc-study-unlimited.webflow.css** (239KB) - カスタムスタイル

### 発見された課題
1. **CSS変数の命名が長すぎる**
   - 312個のCSS変数が非常に長い名前を使用
   - 例: `--ai-gen-82921b10-4b39-48f0-b346-808cf4903d29-1754435527097_sizes---container--container-width`

2. **Webflow自動生成コード**
   - 多数の自動生成IDセレクタ（#w-node-で始まる）
   - 手動メンテナンスが困難

3. **潜在的な最適化ポイント**
   - ベンダープレフィックスの整理
   - 重複ルールの統合
   - 未使用CSSの削除可能性

## 🛡️ 安全な実装アプローチ

### Phase 1: 準備とバックアップ（現在実施中）
- [x] 使用クラス/IDのリスト作成
- [x] CSS構造の分析
- [ ] 全ページの現状スクリーンショット取得
- [ ] CSSファイルのバックアップ

### Phase 2: CSS変数の最適化（未実施）
1. CSS変数名のエイリアス作成
   - 既存の長い変数名を残しつつ、短い別名を追加
   - 例: `:root { --container-width: var(--ai-gen-82921b10...); }`
   
2. 段階的な置き換え
   - 新しい短い変数名を使用するように徐々に更新
   - 各変更後にビジュアルテスト実施

### Phase 3: 構造の最適化（未実施）
1. コメントとドキュメント追加
2. セクション分けと整理
3. 重複ルールの統合

### Phase 4: 検証（未実施）
1. 全ページでのビジュアル比較
2. クロスブラウザテスト
3. パフォーマンス測定

## ⚠️ リスク管理

### 高リスク項目
- Webflow生成コードの変更
- メディアクエリの修正
- CSS変数の削除や変更

### 低リスク項目
- コメントの追加
- 空白やインデントの整理
- CSS変数のエイリアス作成

## 📝 次のステップ

1. **承認待ち項目**
   - CSS変数のエイリアス作成を開始してよいか
   - バックアップディレクトリの作成を進めてよいか

2. **即座に実施可能な項目**
   - CSSファイルの詳細なコメント追加
   - セクション区切りの追加

